# CaaS Upload - SpringCM

A SpringCM file upload/delivery tool that polls local directories, uploading configured documents to a remote SpringCM folder when triggered.

```json
{
  "upload-springcm": {
    "tasks": [
      {
        "job": "JID00000",
        "customer": "CID00000",
        "auth": {
          "clientId": "your_client_id",
          "clientSecret": "your_client_secret",
          "dataCenter": "your_data_center"
        },
        "paths": [
          {
            "remote": "/Upload SpringCM",
            "local": "C:\\Users\\PHolden\\Documents\\Stria\\CaaS\\Upload",
            "delete": false,
            "trigger": "**/*.trg",
            "filter": {
              "in": [
                "**/*.backup.pdf",
                "**/*.pdf",
                "**/*.csv"
              ],
              "out": [
                "**/*.old.pdf",
                "**/expired/*.pdf"
              ]
            }
          }
        ]
      }
    ]
  }
}
```

| Option | Type | Description |
|--------|------|-------------|
| `tasks` | `Object` | Array of upload tasks to perform. |
| `task.job` | `String` | Job name or identifier, for logging purposes. |
| `task.customer` | `String` | Customer name or identifier, for logging purposes. |
| `task.auth` | `Object` | Authentication configuration for accessing SpringCM. |
| `task.auth.clientId` | `String` | The SpringCM REST API client ID (generated by SpringCM support on request). |
| `task.auth.clientSecret` | `String` | The generated client secret associated with your client ID. |
| `task.paths` | `Object` | Remote directory configuration for file delivery. |
| `task.path.remote` | `String` | The remote directory path. |
| `task.path.local` | `String` | The local directory path. |
| `task.path.delete` | `Boolean` | If true, the directory containing the files triggered for upload is deleted along with all of the remaining contents. Any trigger files found are **always** deleted. |
| `task.path.trigger` | `String`, `Array` | Wildcard expression (or array of expressions) of files to trigger upload on. As mentioned above, trigger files are **always** deleted when encountered, but only after uploaded (if they are filtered in). |
| `task.path.filter` | `Object` |  File filtering configuration. |
| `task.path.filter.in` | `String`, `Array` | Wildcard expression (or array of expressions) to include. The order of the expressions determines the order in which files are uploaded. |
| `task.path.filter.out` | `String`, `Array` | Wildcard expression (or array of expressions) to exclude, overriding any `in` filters. |
